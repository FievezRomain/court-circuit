<div class = "page">
  <mat-card class="filters">
    <mat-form-field appearance="fill">
      <mat-autocomplete #auto="matAutocomplete">
        <mat-option *ngFor="let option of products | filter:searchText" [value]="option.libelle">
          {{option.libelle}}
        </mat-option>
      </mat-autocomplete>
      <input matInput [(ngModel)]="searchText" placeholder="Nom du produit" [matAutocomplete]="auto">
      <mat-hint>Rechercher un produit</mat-hint>
    </mat-form-field>
  </mat-card>
  <mat-grid-list cols="3" rowHeight="1:1">
    <mat-grid-tile *ngFor="let product of products | filter:searchText">
      <mat-card class="product">
        <mat-card-header>
          <mat-card-title>{{product.libelle}}</mat-card-title>
          <mat-card-subtitle>{{product.categorie}}</mat-card-subtitle>
        </mat-card-header>
        <mat-card-content>
          <img mat-card-image src="../assets/img/legumes.jpg" *ngIf="product.categorie=='Legume'" alt="Image of the product" class="imgProduct">
          <img mat-card-image src="../assets/img/fruits.jpg" *ngIf="product.categorie=='Fruit'" alt="Image of the product" class="imgProduct">
          <p>
            Description : {{product.description}}
          </p>
          <p>
            Origine : {{product.provenance}}
          </p>
        </mat-card-content>
        <mat-card-actions>
          <button (click)="addToCart(product)" mat-button>Ajouter</button>
          <button routerLink="/catalogue/{{product._id}}" routerLinkActive="active-link" mat-button>DÃ©tail</button>
        </mat-card-actions>
      </mat-card>
    </mat-grid-tile>
  </mat-grid-list>  
</div>